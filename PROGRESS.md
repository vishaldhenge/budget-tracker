# üìä BudgetTracker Project Progress

## üìÇ Project Structure
BudgetTracker/
‚îÇ‚îÄ‚îÄ BudgetTracker.Api/ # API Layer
‚îÇ
‚îÇ‚îÄ‚îÄ BudgetTracker.Dal/ # Data Access Layer
‚îÇ
‚îÇ‚îÄ‚îÄ BudgetTracker.Database/ # Database scripts
‚îÇ ‚îÇ‚îÄ‚îÄ SchemaChanges/ # schema migrations (tables, constraints, etc.)
‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ SchemaChanges.sql
‚îÇ
‚îÇ ‚îÇ‚îÄ‚îÄ DataChanges/ # data scripts (seeding, inserts, reference data)
‚îÇ ‚îÇ ‚îú‚îÄ‚îÄ DataChanges.sql
‚îÇ
‚îÇ‚îÄ‚îÄ budget-tracker-frontend/ # Angular frontend
‚îÇ ‚îÇ‚îÄ‚îÄ projects/
‚îÇ ‚îÇ ‚îÇ‚îÄ‚îÄ app-main/ # main budgeting app (after login)
‚îÇ ‚îÇ ‚îÇ‚îÄ‚îÄ app-access/ # authentication / login app

| Day       | Work Done / Planned                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| --------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Day 0** | **Tech Stack & Architecture Decisions**<br>‚Ä¢ **Backend**: ASP.NET Core 8 Web API<br>‚Ä¢ **Database**: PostgreSQL + Dapper ORM<br>‚Ä¢ **Frontend**: Angular 20 (multi-app workspace, SCSS styling)<br>‚Ä¢ **Deployment**: Docker (target, later phase)<br><br>**Architecture**<br>‚Ä¢ Clean separation:<br>‚ÄÉ- API Layer (`BudgetTracker.Api`)<br>‚ÄÉ- Data Access Layer (`BudgetTracker.Dal`)<br>‚ÄÉ- Database scripts (`BudgetTracker.Database` ‚Üí `SchemaChanges/`, `DataChanges/`)<br>‚ÄÉ- Angular frontend (`budget-tracker-frontend` ‚Üí `app-access`, `app-main`)<br>‚Ä¢ Database conventions: `BIGSERIAL` PKs, audit fields, explicit FK naming                                                                                                                                                                                                                                                                                                                                                                                     |
| **Day 1** | **Repo & Project Setup**<br>‚Ä¢ Created **GitHub repo** `budget-tracker`<br>‚Ä¢ Added **`.gitignore`** (VS template)<br>‚Ä¢ Added **`README.md`** (description, roadmap, license)<br><br>**Backend Solution Setup**<br>‚Ä¢ Created solution `BudgetTracker` with projects:<br>‚ÄÉ- `BudgetTracker.Api` ‚Üí API Layer<br>‚ÄÉ- `BudgetTracker.Dal` ‚Üí Data Access Layer<br>‚ÄÉ- `BudgetTracker.Database` ‚Üí DB scripts (`SchemaChanges/`, `DataChanges/`)<br><br>**Frontend Workspace Setup**<br>‚Ä¢ Created Angular **multi-app workspace** `budget-tracker-frontend` with apps:<br>‚ÄÉ- `app-access` ‚Üí login/authentication UI<br>‚ÄÉ- `app-main` ‚Üí main budgeting app (post-login)                                                                                                                                                                                                                                                                                                                                                            |
| **Day 2** | **Database Setup**<br>‚Ä¢ Tables created: `users`, `user_profiles`, `roles`, `user_roles`<br>‚Ä¢ Conventions:<br>‚ÄÉ- PKs: `BIGSERIAL`<br>‚ÄÉ- Audit fields: `created_at`, `updated_at`<br>‚ÄÉ- Explicit FK naming (`fk_user_roles_user_id`)<br><br>**Seeding**<br>‚Ä¢ Initial **Admin user + Admin role** seeded via SQL script (`DataChanges/`)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| **Day 3** | **Angular + .NET Integration**<br>‚Ä¢ **Kept default Angular `dist/` output structure** (each app builds to its own subfolder under `dist/`).<br>‚Ä¢ Wrote **extension method** in .NET to serve Angular apps dynamically:<br>‚ÄÉ- `/access/` ‚Üí `dist/app-access/index.html`<br>‚ÄÉ- `/main/` ‚Üí `dist/app-main/index.html`<br>‚Ä¢ Allowed serving both apps under same ASP.NET Core server without copying to `wwwroot`.<br><br>**Build Automation**<br>‚Ä¢ Installed **`concurrently`** ‚Üí added script to build **both Angular apps (`app-access`, `app-main`) in parallel**.<br><br>**Angular Config Fixes**<br>‚Ä¢ Updated `angular.json`:<br>‚ÄÉ- Ensured correct `outputPath` (`dist/app-access`, `dist/app-main`).<br>‚ÄÉ- Added **`baseHref`** (`/access/`, `/main/`) so JS/CSS assets resolve correctly.<br><br>**Verification**<br>‚Ä¢ Verified `/access/` and `/main/` returned their respective `index.html`.<br>‚Ä¢ Confirmed static assets (`main.js`, `polyfills.js`, `styles.css`) load successfully with correct base paths. |
| **Day 4** | **Planned (Priority-Ordered)**<br>1Ô∏è‚É£ **Authentication & Security**<br>‚Ä¢ Implement **JWT authentication** in ASP.NET Core<br>‚Ä¢ Store JWT in **localStorage** (frontend)<br>‚Ä¢ Configure `[Authorize(Roles="...")]` for role-based authorization<br>‚Ä¢ Hash user passwords using **BCrypt**<br><br>2Ô∏è‚É£ **API Response Standardization**<br>‚Ä¢ Create global response wrapper:<br>`{ "success": true, "data": {}, "errors": [] }`<br>‚Ä¢ Apply to all API endpoints<br><br>3Ô∏è‚É£ **Frontend Auth Wiring**<br>‚Ä¢ Add login form in `app-access`<br>‚Ä¢ Connect login ‚Üí JWT API<br>‚Ä¢ Implement token persistence + auto-attach to API requests<br><br>4Ô∏è‚É£ **Testing & Validation**<br>‚Ä¢ Verify login flow end-to-end<br>‚Ä¢ Test unauthorized vs authorized routes<br>‚Ä¢ Ensure roles (Admin vs User) enforced correctly                                                                                                                                                                                                                |
